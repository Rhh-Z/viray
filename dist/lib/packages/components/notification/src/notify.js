"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");const x=require("../../../utils/error.js"),f=require("vue"),E=require("./notification.js"),y=require("./notification.vue.js"),g=require("../../../../_virtual/lodash.js"),u={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},v=16;let N=1;const a=(e={},t=null)=>{(g.exports.isString(e)||f.isVNode(e))&&(e={message:e});const s=e.position||"top-right";let n=e.offset||0;u[s]&&u[s].forEach(({vm:l})=>{var p;n+=(((p=l.el)==null?void 0:p.offsetHeight)||0)+v}),n+=v;const c=`notification_${N++}`,m=e.onClose,d={...e,offset:n,id:c,onClose:()=>{q(c,s,m)}};let i=document.body;g.exports.isElement(e.appendTo)?i=e.appendTo:g.exports.isString(e.appendTo)&&(i=document.querySelector(e.appendTo)),g.exports.isElement(i)||(x.debugWarn("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),i=document.body);const r=document.createElement("div"),o=f.createVNode(y.default,d,f.isVNode(d.message)?{default:()=>d.message}:null);return o.appContext=t??a._context,o.props.onDestroy=()=>{f.render(null,r)},f.render(o,r),u[s].push({vm:o}),i==null||i.appendChild(r.firstElementChild),{close:()=>{o.component.exposed.visible.value=!1}}};E.notificationTypes.forEach(e=>{a[e]=(t={})=>((typeof t=="string"||f.isVNode(t))&&(t={message:t}),a({...t,type:e}))});function q(e,t,s){const n=u[t],c=n.findIndex(({vm:o})=>{var l;return((l=o.component)==null?void 0:l.props.id)===e});if(c===-1)return;const{vm:m}=n[c];s==null||s(m);const d=m.el.offsetHeight,i=t.split("-")[0];n.splice(c,1);const r=n.length;if(!(r<1))for(let o=c;o<r;o++){const{el:l,component:p}=n[o].vm,b=Number.parseInt(l.style[i],10)-d-v;p.props.offset=b}}function h(){for(const e of Object.values(u))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}a.closeAll=h;a._context=null;exports.closeAll=h;exports.default=a;
