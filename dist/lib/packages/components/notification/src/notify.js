"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const x=require("../../../utils/error.js"),d=require("vue"),y=require("./notification.js"),N=require("./notification.vue.js"),g=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isElement.js"),b=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js"),r={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},v=16;let q=1;const u=(e={},t=null)=>{(b.default(e)||d.isVNode(e))&&(e={message:e});const c=e.position||"top-right";let n=e.offset||0;r[c]&&r[c].forEach(({vm:i})=>{var a;n+=(((a=i.el)==null?void 0:a.offsetHeight)||0)+v}),n+=v;const s=`notification_${q++}`,p=e.onClose,m={...e,offset:n,id:s,onClose:()=>{T(s,c,p)}};let l=document.body;g.default(e.appendTo)?l=e.appendTo:b.default(e.appendTo)&&(l=document.querySelector(e.appendTo)),g.default(l)||(x.debugWarn("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),l=document.body);const f=document.createElement("div"),o=d.createVNode(N.default,m,d.isVNode(m.message)?{default:()=>m.message}:null);return o.appContext=t??u._context,o.props.onDestroy=()=>{d.render(null,f)},d.render(o,f),r[c].push({vm:o}),console.log(o.component.exposed),l==null||l.appendChild(f.firstElementChild),console.log(r),{close:()=>{o.component.exposed.visible.value=!1},closeAll:()=>{for(const i of Object.values(r))i.forEach(({vm:a})=>{a.component.exposed.visible.value=!1})}}};y.notificationTypes.forEach(e=>{u[e]=(t={})=>((typeof t=="string"||d.isVNode(t))&&(t={message:t}),u({...t,type:e}))});function T(e,t,c){const n=r[t],s=n.findIndex(({vm:o})=>{var i;return((i=o.component)==null?void 0:i.props.id)===e});if(s===-1)return;const{vm:p}=n[s];c==null||c(p);const m=p.el.offsetHeight,l=t.split("-")[0];n.splice(s,1);const f=n.length;if(!(f<1))for(let o=s;o<f;o++){const{el:i,component:a}=n[o].vm,E=Number.parseInt(i.style[l],10)-m-v;a.props.offset=E}}function h(){for(const e of Object.values(r))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}u.closeAll=h;u._context=null;exports.closeAll=h;exports.default=u;
