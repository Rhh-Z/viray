"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const E=require("../../../utils/error.js"),f=require("vue"),N=require("./notification.js"),q=require("./notification.vue.js"),v=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isElement.js"),h=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js"),u={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},g=16;let x=1;const a=(e={},t=null)=>{(h.default(e)||f.isVNode(e))&&(e={message:e});const c=e.position||"top-right";let n=e.offset||0;u[c]&&u[c].forEach(({vm:r})=>{var p;n+=(((p=r.el)==null?void 0:p.offsetHeight)||0)+g}),n+=g;const l=`notification_${x++}`,m=e.onClose,d={...e,offset:n,id:l,onClose:()=>{T(l,c,m)}};let i=document.body;v.default(e.appendTo)?i=e.appendTo:h.default(e.appendTo)&&(i=document.querySelector(e.appendTo)),v.default(i)||(E.debugWarn("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),i=document.body);const s=document.createElement("div"),o=f.createVNode(q.default,d,f.isVNode(d.message)?{default:()=>d.message}:null);return o.appContext=t??a._context,o.props.onDestroy=()=>{f.render(null,s)},f.render(o,s),u[c].push({vm:o}),i==null||i.appendChild(s.firstElementChild),{close:()=>{o.component.exposed.visible.value=!1}}};N.notificationTypes.forEach(e=>{a[e]=(t={})=>((typeof t=="string"||f.isVNode(t))&&(t={message:t}),a({...t,type:e}))});function T(e,t,c){const n=u[t],l=n.findIndex(({vm:o})=>{var r;return((r=o.component)==null?void 0:r.props.id)===e});if(l===-1)return;const{vm:m}=n[l];c==null||c(m);const d=m.el.offsetHeight,i=t.split("-")[0];n.splice(l,1);const s=n.length;if(!(s<1))for(let o=l;o<s;o++){const{el:r,component:p}=n[o].vm,y=Number.parseInt(r.style[i],10)-d-g;p.props.offset=y}}function b(){for(const e of Object.values(u))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}a.closeAll=b;a._context=null;exports.closeAll=b;exports.default=a;
