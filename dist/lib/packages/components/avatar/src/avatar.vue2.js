"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),i=require("./avatar.js");require("../../../theme-chalk/src/avatar.css");const m=require("../../icon/index.js"),h=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js"),v=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isNumber.js"),k=["src","alt","srcset"],E=r.defineComponent({name:"ViAvatar"}),S=r.defineComponent({...E,props:i.avatarProps,emits:i.avatarEmits,setup(l,{emit:u}){const n=l;r.useCssVars(e=>({"5e9f4473-fit":e.fit}));const s="vi-avatar",o=r.ref(!1),f=r.computed(()=>{const{size:e,icon:a,shape:c}=n,t=[s];return h.default(e)&&t.push(`${s}--${e}`),a&&t.push(`${s}--icon`),c&&t.push(`${s}--${c}`),t}),p=r.computed(()=>{const{size:e}=n;return v.default(e)?{width:`${e}px`,height:`${e}px`}:{width:e,height:e}});r.watch(()=>n.src,()=>o.value=!1);const d=e=>{o.value=!0,u("error",e)};return(e,a)=>(r.openBlock(),r.createElementBlock("span",{class:r.normalizeClass(r.unref(f)),style:r.normalizeStyle(r.unref(p))},[(e.src||e.srcSet)&&!o.value?(r.openBlock(),r.createElementBlock("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,onError:d},null,40,k)):e.icon?(r.openBlock(),r.createBlock(r.unref(m.ViIcon),{key:1,name:e.icon},null,8,["name"])):r.renderSlot(e.$slots,"default",{key:2})],6))}});exports.default=S;
