"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),c=require("./avatar.js");require("../../../theme-chalk/src/avatar.css");const m=require("../../icon/index.js"),h=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js"),v=require("../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isNumber.js"),k=["src","alt","srcset"],E=r.defineComponent({__name:"avatar",props:c.avatarProps,emits:c.avatarEmits,setup(l,{emit:u}){const a=l;r.useCssVars(e=>({"5e9f4473-fit":e.fit})),defineOptions({name:"ViAvatar"});const s="vi-avatar",n=r.ref(!1),p=r.computed(()=>{const{size:e,icon:o,shape:i}=a,t=[s];return h.default(e)&&t.push(`${s}--${e}`),o&&t.push(`${s}--icon`),i&&t.push(`${s}--${i}`),t}),f=r.computed(()=>{const{size:e}=a;return v.default(e)?{width:`${e}px`,height:`${e}px`}:{width:e,height:e}});r.watch(()=>a.src,()=>n.value=!1);const d=e=>{n.value=!0,u("error",e)};return(e,o)=>(r.openBlock(),r.createElementBlock("span",{class:r.normalizeClass(r.unref(p)),style:r.normalizeStyle(r.unref(f))},[(e.src||e.srcSet)&&!n.value?(r.openBlock(),r.createElementBlock("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,onError:d},null,40,k)):e.icon?(r.openBlock(),r.createBlock(r.unref(m.ViIcon),{key:1,name:e.icon},null,8,["name"])):r.renderSlot(e.$slots,"default",{key:2})],6))}});exports.default=E;
